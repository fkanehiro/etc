#include <iostream>
#include <vector>
#include <afdyn/DefaultDynamicsSimulator.h>
#include "gaussSeidel.h"

using namespace afdyn;

int main(int argc, char *argv[])
{

  //#define dim 5  
#define dim 15  
  //#define dim 12  
  double *M[dim];
  for (int i=0; i<dim; i++) M[i] = new double [dim];
  double b[dim], x[dim*2];

#if dim == 5
  M[0][0] = 0.002106;
  M[0][1] = 0.0003775;
  M[0][2] = 0.0002001;
  M[0][3] = -0.0001345;
  M[0][4] = -0.000104;
  M[1][0] = 0.0003775;
  M[1][1] = 0.00134;
  M[1][2] = -3.596e-06;
  M[1][3] = 0.0002055;
  M[1][4] = 0.000436;
  M[2][0] = 0.0002001;
  M[2][1] = -3.596e-06;
  M[2][2] = 0.002444;
  M[2][3] = 0.001029;
  M[2][4] = 0.0006096;
  M[3][0] = -0.0001345;
  M[3][1] = 0.0002055;
  M[3][2] = 0.001029;
  M[3][3] = 0.002476;
  M[3][4] = 0.002334;
  M[4][0] = -0.000104;
  M[4][1] = 0.000436;
  M[4][2] = 0.0006096;
  M[4][3] = 0.002334;
  M[4][4] = 0.002304;
  b[0] = -4.999e-05;
  b[1] = -4.999e-05;
  b[2] = -4.999e-05;
  b[3] = -4.999e-05;
  b[4] = -4.999e-05;
#elif dim == 15
M[0][0] = 0.002106;
M[0][1] = 0.0008371;
M[0][2] = -0.0006314;
M[0][3] = 0.0003775;
M[0][4] = 0.0007092;
M[0][5] = -0.0005357;
M[0][6] = 0.0002001;
M[0][7] = 0.0008764;
M[0][8] = -0.0008072;
M[0][9] = -0.0001345;
M[0][10] = 0.0005884;
M[0][11] = 0.000803;
M[0][12] = -0.000104;
M[0][13] = 0.0005418;
M[0][14] = 0.0007744;
M[1][0] = 0.0008371;
M[1][1] = 0.004861;
M[1][2] = 0.0007742;
M[1][3] = 0.000415;
M[1][4] = 0.002907;
M[1][5] = -0.000315;
M[1][6] = -0.0001143;
M[1][7] = 0.003412;
M[1][8] = -0.000607;
M[1][9] = -0.0006871;
M[1][10] = 0.0004898;
M[1][11] = 0.003166;
M[1][12] = -0.0005963;
M[1][13] = 0.0004397;
M[1][14] = 0.00308;
M[2][0] = -0.0006314;
M[2][1] = 0.0007742;
M[2][2] = 0.005425;
M[2][3] = 0.0002669;
M[2][4] = -0.0007222;
M[2][5] = 0.003839;
M[2][6] = -0.0005135;
M[2][7] = 0.0001437;
M[2][8] = 0.002184;
M[2][9] = 0.0001849;
M[2][10] = -0.002003;
M[2][11] = -0.0006019;
M[2][12] = 0.000319;
M[2][13] = -0.002287;
M[2][14] = -0.0007504;
M[3][0] = 0.0003775;
M[3][1] = 0.000415;
M[3][2] = 0.0002669;
M[3][3] = 0.00134;
M[3][4] = -1.692e-05;
M[3][5] = 0.0005576;
M[3][6] = -3.596e-06;
M[3][7] = 0.0006063;
M[3][8] = 0.0002732;
M[3][9] = 0.0002055;
M[3][10] = -0.000253;
M[3][11] = 0.0001105;
M[3][12] = 0.000436;
M[3][13] = -0.0003017;
M[3][14] = 3.602e-06;
M[4][0] = 0.0007092;
M[4][1] = 0.002907;
M[4][2] = -0.0007222;
M[4][3] = -1.692e-05;
M[4][4] = 0.003865;
M[4][5] = -0.0004742;
M[4][6] = 5.914e-05;
M[4][7] = 0.002547;
M[4][8] = -0.0001988;
M[4][9] = -0.0005505;
M[4][10] = 0.0001333;
M[4][11] = 0.003557;
M[4][12] = -0.0005636;
M[4][13] = 0.0001805;
M[4][14] = 0.003783;
M[5][0] = -0.0005357;
M[5][1] = -0.000315;
M[5][2] = 0.003839;
M[5][3] = 0.0005576;
M[5][4] = -0.0004742;
M[5][5] = 0.004507;
M[5][6] = -0.000101;
M[5][7] = 0.0002717;
M[5][8] = 0.00222;
M[5][9] = 0.0003736;
M[5][10] = -0.002257;
M[5][11] = -0.0004782;
M[5][12] = 0.0004868;
M[5][13] = -0.002649;
M[5][14] = -0.0006061;
M[6][0] = 0.0002001;
M[6][1] = -0.0001143;
M[6][2] = -0.0005135;
M[6][3] = -3.596e-06;
M[6][4] = 5.914e-05;
M[6][5] = -0.000101;
M[6][6] = 0.002444;
M[6][7] = -0.001426;
M[6][8] = -0.0008335;
M[6][9] = 0.001029;
M[6][10] = -7.763e-05;
M[6][11] = -0.0008014;
M[6][12] = 0.0006096;
M[6][13] = -0.0002035;
M[6][14] = -0.0005466;
M[7][0] = 0.0008764;
M[7][1] = 0.003412;
M[7][2] = 0.0001437;
M[7][3] = 0.0006063;
M[7][4] = 0.002547;
M[7][5] = 0.0002717;
M[7][6] = -0.001426;
M[7][7] = 0.005798;
M[7][8] = -0.0002986;
M[7][9] = -0.001452;
M[7][10] = 0.0005978;
M[7][11] = 0.00381;
M[7][12] = -0.001103;
M[7][13] = 0.0005002;
M[7][14] = 0.003252;
M[8][0] = -0.0008072;
M[8][1] = -0.000607;
M[8][2] = 0.002184;
M[8][3] = 0.0002732;
M[8][4] = -0.0001988;
M[8][5] = 0.00222;
M[8][6] = -0.0008335;
M[8][7] = -0.0002986;
M[8][8] = 0.005342;
M[8][9] = 0.0006149;
M[8][10] = -0.003733;
M[8][11] = -0.0006564;
M[8][12] = 0.0008045;
M[8][13] = -0.003197;
M[8][14] = -0.0006392;
M[9][0] = -0.0001345;
M[9][1] = -0.0006871;
M[9][2] = 0.0001849;
M[9][3] = 0.0002055;
M[9][4] = -0.0005505;
M[9][5] = 0.0003736;
M[9][6] = 0.001029;
M[9][7] = -0.001452;
M[9][8] = 0.0006149;
M[9][9] = 0.002476;
M[9][10] = -0.0003308;
M[9][11] = -0.001865;
M[9][12] = 0.002334;
M[9][13] = -0.0002894;
M[9][14] = -0.001711;
M[10][0] = 0.0005884;
M[10][1] = 0.0004898;
M[10][2] = -0.002003;
M[10][3] = -0.000253;
M[10][4] = 0.0001333;
M[10][5] = -0.002257;
M[10][6] = -7.763e-05;
M[10][7] = 0.0005978;
M[10][8] = -0.003733;
M[10][9] = -0.0003308;
M[10][10] = 0.004619;
M[10][11] = -5.544e-05;
M[10][12] = -0.0003607;
M[10][13] = 0.004365;
M[10][14] = -0.0001351;
M[11][0] = 0.000803;
M[11][1] = 0.003166;
M[11][2] = -0.0006019;
M[11][3] = 0.0001105;
M[11][4] = 0.003557;
M[11][5] = -0.0004782;
M[11][6] = -0.0008014;
M[11][7] = 0.00381;
M[11][8] = -0.0006564;
M[11][9] = -0.001865;
M[11][10] = -5.544e-05;
M[11][11] = 0.005285;
M[11][12] = -0.001709;
M[11][13] = -8.591e-05;
M[11][14] = 0.005241;
M[12][0] = -0.000104;
M[12][1] = -0.0005963;
M[12][2] = 0.000319;
M[12][3] = 0.000436;
M[12][4] = -0.0005636;
M[12][5] = 0.0004868;
M[12][6] = 0.0006096;
M[12][7] = -0.001103;
M[12][8] = 0.0008045;
M[12][9] = 0.002334;
M[12][10] = -0.0003607;
M[12][11] = -0.001709;
M[12][12] = 0.002304;
M[12][13] = -0.0003062;
M[12][14] = -0.001616;
M[13][0] = 0.0005418;
M[13][1] = 0.0004397;
M[13][2] = -0.002287;
M[13][3] = -0.0003017;
M[13][4] = 0.0001805;
M[13][5] = -0.002649;
M[13][6] = -0.0002035;
M[13][7] = 0.0005002;
M[13][8] = -0.003197;
M[13][9] = -0.0002894;
M[13][10] = 0.004365;
M[13][11] = -8.591e-05;
M[13][12] = -0.0003062;
M[13][13] = 0.004272;
M[13][14] = -0.0001407;
M[14][0] = 0.0007744;
M[14][1] = 0.00308;
M[14][2] = -0.0007504;
M[14][3] = 3.602e-06;
M[14][4] = 0.003783;
M[14][5] = -0.0006061;
M[14][6] = -0.0005466;
M[14][7] = 0.003252;
M[14][8] = -0.0006392;
M[14][9] = -0.001711;
M[14][10] = -0.0001351;
M[14][11] = 0.005241;
M[14][12] = -0.001616;
M[14][13] = -0.0001407;
M[14][14] = 0.005332;

  b[ 0] = -4.999e-05;
  b[ 1] = 0;
  b[ 2] = 0;
  b[ 3] = -4.999e-05;
  b[ 4] = 0;
  b[ 5] = 0;
  b[ 6] = -4.999e-05;
  b[ 7] = 0;
  b[ 8] = 0;
  b[ 9] = -4.999e-05;
  b[10] = 0;
  b[11] = 0;
  b[12] = -4.999e-05;
  b[13] = 0;
  b[14] = 0;
#elif dim == 12
M[0][0] = 0.002106;
M[0][1] = 0.0008371;
M[0][2] = -0.0006314;
M[0][3] = 0.0003775;
M[0][4] = 0.0007092;
M[0][5] = -0.0005357;
M[0][6] = 0.0002001;
M[0][7] = 0.0008764;
M[0][8] = -0.0008072;
M[0][9] = -0.0002034;
M[0][10] = 0.0007879;
M[0][11] = -0.0005431;
M[1][0] = 0.0008371;
M[1][1] = 0.004861;
M[1][2] = 0.0007742;
M[1][3] = 0.000415;
M[1][4] = 0.002907;
M[1][5] = -0.000315;
M[1][6] = -0.0001143;
M[1][7] = 0.003412;
M[1][8] = -0.000607;
M[1][9] = -0.0008054;
M[1][10] = 0.003115;
M[1][11] = -0.000466;
M[2][0] = -0.0006314;
M[2][1] = 0.0007742;
M[2][2] = 0.005425;
M[2][3] = 0.0002669;
M[2][4] = -0.0007222;
M[2][5] = 0.003839;
M[2][6] = -0.0005135;
M[2][7] = 0.0001437;
M[2][8] = 0.002184;
M[2][9] = 0.0003281;
M[2][10] = -0.0007563;
M[2][11] = 0.001966;
M[3][0] = 0.0003775;
M[3][1] = 0.000415;
M[3][2] = 0.0002669;
M[3][3] = 0.00134;
M[3][4] = -1.692e-05;
M[3][5] = 0.0005576;
M[3][6] = -3.596e-06;
M[3][7] = 0.0006063;
M[3][8] = 0.0002732;
M[3][9] = 0.0002486;
M[3][10] = 7.847e-06;
M[3][11] = 0.000249;
M[4][0] = 0.0007092;
M[4][1] = 0.002907;
M[4][2] = -0.0007222;
M[4][3] = -1.692e-05;
M[4][4] = 0.003865;
M[4][5] = -0.0004742;
M[4][6] = 5.914e-05;
M[4][7] = 0.002547;
M[4][8] = -0.0001988;
M[4][9] = -0.0006767;
M[4][10] = 0.003766;
M[4][11] = -0.0001201;
M[5][0] = -0.0005357;
M[5][1] = -0.000315;
M[5][2] = 0.003839;
M[5][3] = 0.0005576;
M[5][4] = -0.0004742;
M[5][5] = 0.004507;
M[5][6] = -0.000101;
M[5][7] = 0.0002717;
M[5][8] = 0.00222;
M[5][9] = 0.0004703;
M[5][10] = -0.0006334;
M[5][11] = 0.002265;
M[6][0] = 0.0002001;
M[6][1] = -0.0001143;
M[6][2] = -0.0005135;
M[6][3] = -3.596e-06;
M[6][4] = 5.914e-05;
M[6][5] = -0.000101;
M[6][6] = 0.002444;
M[6][7] = -0.001426;
M[6][8] = -0.0008335;
M[6][9] = 0.0007364;
M[6][10] = -0.000672;
M[6][11] = 0.000267;
M[7][0] = 0.0008764;
M[7][1] = 0.003412;
M[7][2] = 0.0001437;
M[7][3] = 0.0006063;
M[7][4] = 0.002547;
M[7][5] = 0.0002717;
M[7][6] = -0.001426;
M[7][7] = 0.005798;
M[7][8] = -0.0002986;
M[7][9] = -0.001457;
M[7][10] = 0.003398;
M[7][11] = -0.0006608;
M[8][0] = -0.0008072;
M[8][1] = -0.000607;
M[8][2] = 0.002184;
M[8][3] = 0.0002732;
M[8][4] = -0.0001988;
M[8][5] = 0.00222;
M[8][6] = -0.0008335;
M[8][7] = -0.0002986;
M[8][8] = 0.005342;
M[8][9] = 0.0009122;
M[8][10] = -0.0007304;
M[8][11] = 0.0034;
M[9][0] = -0.0002034;
M[9][1] = -0.0008054;
M[9][2] = 0.0003281;
M[9][3] = 0.0002486;
M[9][4] = -0.0006767;
M[9][5] = 0.0004703;
M[9][6] = 0.0007364;
M[9][7] = -0.001457;
M[9][8] = 0.0009122;
M[9][9] = 0.003197;
M[9][10] = -0.002216;
M[9][11] = 0.0002716;
M[10][0] = 0.0007879;
M[10][1] = 0.003115;
M[10][2] = -0.0007563;
M[10][3] = 7.847e-06;
M[10][4] = 0.003766;
M[10][5] = -0.0006334;
M[10][6] = -0.000672;
M[10][7] = 0.003398;
M[10][8] = -0.0007304;
M[10][9] = -0.002216;
M[10][10] = 0.006044;
M[10][11] = 0.00038;
M[11][0] = -0.0005431;
M[11][1] = -0.000466;
M[11][2] = 0.001966;
M[11][3] = 0.000249;
M[11][4] = -0.0001201;
M[11][5] = 0.002265;
M[11][6] = 0.000267;
M[11][7] = -0.0006608;
M[11][8] = 0.0034;
M[11][9] = 0.0002716;
M[11][10] = 0.00038;
M[11][11] = 0.005093;

  b[ 0] = -4.999e-05;
  b[ 1] = 0;
  b[ 2] = 0;
  b[ 3] = -4.999e-05;
  b[ 4] = 0;
  b[ 5] = 0;
  b[ 6] = -4.999e-05;
  b[ 7] = 0;
  b[ 8] = 0;
  b[ 9] = -4.999e-05;
  b[10] = 0;
  b[11] = 0;
#endif

  int numIteration=500;
  std::vector<detail::InteractionData *> interactionVector;
  std::vector<std::vector<afbase::matrix3d> > lambdaMatrix;
  gaussSeidel(numIteration, interactionVector, lambdaMatrix);

  return 0;
}
